<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìš´ì„¸ë¡œë˜ - ì‚¬ì£¼ ê¸°ë°˜ ë¡œë˜ ë²ˆí˜¸ ì¶”ì²œ</title>
    
    <!-- Tailwind CSS (ë””ìì¸) -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM (ë¦¬ì•¡íŠ¸ ì—”ì§„) -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel (ë¸Œë¼ìš°ì €ì—ì„œ ë¦¬ì•¡íŠ¸ ì½”ë“œë¥¼ í•´ì„í•˜ê¸° ìœ„í•¨) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        /* ì• ë‹ˆë©”ì´ì…˜ ì •ì˜ */
        @keyframes fade-in-up {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in-up { animation: fade-in-up 0.5s ease-out; }
        
        @keyframes fade-in {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .animate-fade-in { animation: fade-in 0.5s ease-out; }
        
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        .animate-spin { animation: spin 1s linear infinite; }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(-25%); animation-timing-function: cubic-bezier(0.8,0,1,1); }
            50% { transform: translateY(0); animation-timing-function: cubic-bezier(0,0,0.2,1); }
        }
        .animate-bounce { animation: bounce 1s infinite; }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: .5; }
        }
        .animate-pulse { animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- ì•„ì´ì½˜ ì»´í¬ë„ŒíŠ¸ (Lucide ì•„ì´ì½˜ SVG ì§ì ‘ êµ¬í˜„) ---




        // --- ë¡œë˜ ìš´ì„¸ ì»´í¬ë„ŒíŠ¸ ---
        const LottoFortune = ({ userInfo, setUserInfo, setStep, setResult, elementNumbers, elementInfo, Sparkles, Calendar, Clock, RefreshCw, ShoppingBag, ArrowRight }) => {
            const getBallColor = (num) => {
                if(num <= 10) return 'bg-yellow-400 border-yellow-500';
                if(num <= 20) return 'bg-blue-400 border-blue-500';
                if(num <= 30) return 'bg-red-400 border-red-500';
                if(num <= 40) return 'bg-gray-500 border-gray-600';
                return 'bg-green-400 border-green-500';
            };

            const calculateSajuLotto = () => {
                if (!userInfo.year || !userInfo.month || !userInfo.day) {
                    alert('ìƒë…„ì›”ì¼ì„ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                    return;
                }

                setStep('loading');
                
                setTimeout(() => {
                    const seed = parseInt(userInfo.year) + parseInt(userInfo.month) + parseInt(userInfo.day);
                    const elements = ['wood', 'fire', 'earth', 'metal', 'water'];
                    const luckyElement = elements[seed % 5];
                    const secondaryElement = elements[(seed + 2) % 5];

                    const generateGame = () => {
                        const primaryPool = elementNumbers[luckyElement];
                        const secondaryPool = elementNumbers[secondaryElement];
                        const shuffle = (array) => array.sort(() => Math.random() - 0.5);
                        
                        const pNums = shuffle([...primaryPool]).slice(0, 3);
                        const sNums = shuffle([...secondaryPool]).slice(0, 2);
                        const allNums = Array.from({ length: 45 }, (_, i) => i + 1);
                        const remainingPool = allNums.filter(n => !pNums.includes(n) && !sNums.includes(n));
                        const rNums = shuffle(remainingPool).slice(0, 6 - (pNums.length + sNums.length));

                        return [...pNums, ...sNums, ...rNums].sort((a, b) => a - b);
                    };

                    const lottoSets = Array.from({ length: 5 }, () => generateGame());

                    setResult({
                        type: 'lotto',
                        sets: lottoSets,
                        element: luckyElement,
                        reason: `ê³ ê°ë‹˜ì˜ ì‚¬ì£¼ íŒ”ì ì¤‘ ì´ë²ˆ ì£¼ëŠ” '${elementInfo[luckyElement].name}' ê¸°ìš´ì´ ì¬ë¬¼ì„ ë¶€ë¥´ëŠ” í•µì‹¬ ì—´ì‡ ì…ë‹ˆë‹¤. ${elementInfo[luckyElement].text}ì„ ì˜ë¯¸í•˜ëŠ” ìˆ«ìë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ, ë¶€ì¡±í•œ ê¸°ìš´ì„ ë³´ì™„í•˜ëŠ” ìˆ«ìë¥¼ ë°°í•©í–ˆìŠµë‹ˆë‹¤.`
                    });
                    
                    setStep('ad_gate');
                }, 2000);
            };

            return (
                <div className="bg-white p-6 rounded-2xl shadow-xl animate-fade-in-up">
                    <h2 className="text-2xl font-bold mb-2 text-center text-indigo-900">ì´ë²ˆ ì£¼ ë‚˜ì˜ ëŒ€ë°• ìˆ«ìëŠ”?</h2>
                    <p className="text-center text-gray-500 mb-6 text-sm">ì‚¬ì£¼ ëª…ë¦¬í•™ìœ¼ë¡œ ë¶„ì„í•œ ë‹¹ì‹ ë§Œì˜ í–‰ìš´ ë²ˆí˜¸ë¥¼ ë¬´ë£Œë¡œ í™•ì¸í•˜ì„¸ìš”.</p>
                    
                    <div className="space-y-4">
                        <div>
                            <label className="block text-sm font-medium text-gray-700 mb-1">íƒœì–´ë‚œ ì—°ë„</label>
                            <div className="relative">
                                <div className="absolute left-3 top-3 pointer-events-none">
                                    <Calendar className="w-5 h-5 text-gray-400" />
                                </div>
                                <input 
                                    type="number" 
                                    name="year" 
                                    placeholder="ì˜ˆ: 1985" 
                                    className="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all outline-none"
                                    onChange={(e) => setUserInfo({ ...userInfo, year: e.target.value })}
                                    value={userInfo.year}
                                />
                            </div>
                        </div>

                        <div className="flex gap-4">
                            <div className="flex-1">
                                <label className="block text-sm font-medium text-gray-700 mb-1">ì›”</label>
                                <select name="month" onChange={(e) => setUserInfo({ ...userInfo, month: e.target.value })} value={userInfo.month} className="w-full py-3 px-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none">
                                    <option value="">ì„ íƒ</option>
                                    {Array.from({length: 12}, (_, i) => i + 1).map(m => (
                                        <option key={m} value={m}>{m}ì›”</option>
                                    ))}
                                </select>
                            </div>
                            <div className="flex-1">
                                <label className="block text-sm font-medium text-gray-700 mb-1">ì¼</label>
                                <select name="day" onChange={(e) => setUserInfo({ ...userInfo, day: e.target.value })} value={userInfo.day} className="w-full py-3 px-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none">
                                    <option value="">ì„ íƒ</option>
                                    {Array.from({length: 31}, (_, i) => i + 1).map(d => (
                                        <option key={d} value={d}>{d}ì¼</option>
                                    ))}
                                </select>
                            </div>
                        </div>

                        <div>
                            <label className="block text-sm font-medium text-gray-700 mb-1">íƒœì–´ë‚œ ì‹œê°„ (ì„ íƒ)</label>
                            <div className="relative">
                                <div className="absolute left-3 top-3 pointer-events-none">
                                    <Clock className="w-5 h-5 text-gray-400" />
                                </div>
                                <select name="time" onChange={(e) => setUserInfo({ ...userInfo, time: e.target.value })} value={userInfo.time} className="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none appearance-none bg-white">
                                    <option value="">ëª¨ë¦„ / ìƒê´€ì—†ìŒ</option>
                                    <option value="rat">ìì‹œ (23:30 ~ 01:29)</option>
                                    <option value="ox">ì¶•ì‹œ (01:30 ~ 03:29)</option>
                                    <option value="tiger">ì¸ì‹œ (03:30 ~ 05:29)</option>
                                    <option value="rabbit">ë¬˜ì‹œ (05:30 ~ 07:29)</option>
                                    <option value="dragon">ì§„ì‹œ (07:30 ~ 09:29)</option>
                                    <option value="snake">ì‚¬ì‹œ (09:30 ~ 11:29)</option>
                                    <option value="horse">ì˜¤ì‹œ (11:30 ~ 13:29)</option>
                                    <option value="sheep">ë¯¸ì‹œ (13:30 ~ 15:29)</option>
                                    <option value="monkey">ì‹ ì‹œ (15:30 ~ 17:29)</option>
                                    <option value="rooster">ìœ ì‹œ (17:30 ~ 19:29)</option>
                                    <option value="dog">ìˆ ì‹œ (19:30 ~ 21:29)</option>
                                    <option value="pig">í•´ì‹œ (21:30 ~ 23:29)</option>
                                </select>
                            </div>
                        </div>

                        <div>
                            <label className="block text-sm font-medium text-gray-700 mb-1">ì„±ë³„</label>
                            <div className="flex gap-4">
                                <button 
                                    className={`flex-1 py-3 rounded-xl border ${userInfo.gender === 'male' ? 'bg-indigo-50 border-indigo-500 text-indigo-700 font-bold' : 'border-gray-300 text-gray-500'}`}
                                    onClick={() => setUserInfo({...userInfo, gender: 'male'})}
                                >
                                    ë‚¨ì„±
                                </button>
                                <button 
                                    className={`flex-1 py-3 rounded-xl border ${userInfo.gender === 'female' ? 'bg-pink-50 border-pink-500 text-pink-700 font-bold' : 'border-gray-300 text-gray-500'}`}
                                    onClick={() => setUserInfo({...userInfo, gender: 'female'})}
                                >
                                    ì—¬ì„±
                                </button>
                            </div>
                        </div>

                        <button 
                            onClick={calculateSajuLotto}
                            className="w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold py-4 rounded-xl shadow-lg hover:shadow-xl transform transition hover:-translate-y-1 mt-4 flex items-center justify-center gap-2"
                        >
                            <Sparkles className="w-5 h-5" />
                            ìš´ì„¸ ë²ˆí˜¸ ë¬´ë£Œ ì¶”ì¶œí•˜ê¸°
                        </button>
                    </div>
                </div>
            );
        };

        // --- ì´ ì£¼ì˜ ê·€ì¸ ì»´í¬ë„ŒíŠ¸ ---
        const BenefactorFortune = ({ userInfo, setUserInfo, setStep, setResult, elementInfo, Sparkles, Calendar, Clock }) => {
            const calculateBenefactor = () => {
                if (!userInfo.year || !userInfo.month || !userInfo.day) {
                    alert('ìƒë…„ì›”ì¼ì„ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                    return;
                }
                setStep('loading');

                setTimeout(() => {
                    const seed = parseInt(userInfo.year) + parseInt(userInfo.month) + parseInt(userInfo.day);
                    const elements = ['wood', 'fire', 'earth', 'metal', 'water'];
                    const mainElement = elements[seed % 5]; // ì£¼ëœ ê¸°ìš´
                    const benefactorElement = elements[(seed + 1) % 5]; // ê·€ì¸ì— í•´ë‹¹í•˜ëŠ” ê¸°ìš´ (ì˜ˆì‹œ: ì£¼ëœ ê¸°ìš´ ë‹¤ìŒ ì˜¤í–‰)

                    setResult({
                        type: 'benefactor',
                        element: mainElement, // ë³¸ì¸ì˜ ì£¼ëœ ê¸°ìš´
                        benefactor: benefactorElement, // ê·€ì¸ì˜ ê¸°ìš´
                        benefactorDescription: `ê³ ê°ë‹˜ì˜ ì‚¬ì£¼ íŒ”ì ë¶„ì„ ê²°ê³¼, ì´ë²ˆ ì£¼ ê·€ì¸ì€ '${elementInfo[benefactorElement].name}' ê¸°ìš´ì„ ê°€ì§„ ì‚¬ëŒì…ë‹ˆë‹¤. ${elementInfo[benefactorElement].benefactorFeature} íŠ¹ì„±ì„ ê°€ì§„ ì‚¬ëŒì„ ê°€ê¹Œì´í•˜ë©´ í° ë„ì›€ì„ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.`
                    });
                    setStep('ad_gate');
                }, 2000);
            };

            return (
                <div className="bg-white p-6 rounded-2xl shadow-xl animate-fade-in-up">
                    <h2 className="text-2xl font-bold mb-2 text-center text-indigo-900">ì´ë²ˆ ì£¼ ë‚˜ì˜ ê·€ì¸ì€?</h2>
                    <p className="text-center text-gray-500 mb-6 text-sm">ì‚¬ì£¼ ëª…ë¦¬í•™ìœ¼ë¡œ ë¶„ì„í•œ ë‹¹ì‹ ì—ê²Œ ë„ì›€ì„ ì¤„ ê·€ì¸ì„ í™•ì¸í•˜ì„¸ìš”.</p>
                    
                    <div className="space-y-4">
                        <div>
                            <label className="block text-sm font-medium text-gray-700 mb-1">íƒœì–´ë‚œ ì—°ë„</label>
                            <div className="relative">
                                <div className="absolute left-3 top-3 pointer-events-none">
                                    <Calendar className="w-5 h-5 text-gray-400" />
                                </div>
                                <input 
                                    type="number" 
                                    name="year" 
                                    placeholder="ì˜ˆ: 1985" 
                                    className="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all outline-none"
                                    onChange={(e) => setUserInfo({ ...userInfo, year: e.target.value })}
                                    value={userInfo.year}
                                />
                            </div>
                        </div>

                        <div className="flex gap-4">
                            <div className="flex-1">
                                <label className="block text-sm font-medium text-gray-700 mb-1">ì›”</label>
                                <select name="month" onChange={(e) => setUserInfo({ ...userInfo, month: e.target.value })} value={userInfo.month} className="w-full py-3 px-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none">
                                    <option value="">ì„ íƒ</option>
                                    {Array.from({length: 12}, (_, i) => i + 1).map(m => (
                                        <option key={m} value={m}>{m}ì›”</option>
                                    ))}
                                </select>
                            </div>
                            <div className="flex-1">
                                <label className="block text-sm font-medium text-gray-700 mb-1">ì¼</label>
                                <select name="day" onChange={(e) => setUserInfo({ ...userInfo, day: e.target.value })} value={userInfo.day} className="w-full py-3 px-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none">
                                    <option value="">ì„ íƒ</option>
                                    {Array.from({length: 31}, (_, i) => i + 1).map(d => (
                                        <option key={d} value={d}>{d}ì¼</option>
                                    ))}
                                </select>
                            </div>
                        </div>

                        <div>
                            <label className="block text-sm font-medium text-gray-700 mb-1">íƒœì–´ë‚œ ì‹œê°„ (ì„ íƒ)</label>
                            <div className="relative">
                                <div className="absolute left-3 top-3 pointer-events-none">
                                    <Clock className="w-5 h-5 text-gray-400" />
                                </div>
                                <select name="time" onChange={(e) => setUserInfo({ ...userInfo, time: e.target.value })} value={userInfo.time} className="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none appearance-none bg-white">
                                    <option value="">ëª¨ë¦„ / ìƒê´€ì—†ìŒ</option>
                                    <option value="rat">ìì‹œ (23:30 ~ 01:29)</option>
                                    <option value="ox">ì¶•ì‹œ (01:30 ~ 03:29)</option>
                                    <option value="tiger">ì¸ì‹œ (03:30 ~ 05:29)</option>
                                    <option value="rabbit">ë¬˜ì‹œ (05:30 ~ 07:29)</option>
                                    <option value="dragon">ì§„ì‹œ (07:30 ~ 09:29)</option>
                                    <option value="snake">ì‚¬ì‹œ (09:30 ~ 11:29)</option>
                                    <option value="horse">ì˜¤ì‹œ (11:30 ~ 13:29)</option>
                                    <option value="sheep">ë¯¸ì‹œ (13:30 ~ 15:29)</option>
                                    <option value="monkey">ì‹ ì‹œ (15:30 ~ 17:29)</option>
                                    <option value="rooster">ìœ ì‹œ (17:30 ~ 19:29)</option>
                                    <option value="dog">ìˆ ì‹œ (19:30 ~ 21:29)</option>
                                    <option value="pig">í•´ì‹œ (21:30 ~ 23:29)</option>
                                </select>
                            </div>
                        </div>

                        <div>
                            <label className="block text-sm font-medium text-gray-700 mb-1">ì„±ë³„</label>
                            <div className="flex gap-4">
                                <button 
                                    className={`flex-1 py-3 rounded-xl border ${userInfo.gender === 'male' ? 'bg-indigo-50 border-indigo-500 text-indigo-700 font-bold' : 'border-gray-300 text-gray-500'}`}
                                    onClick={() => setUserInfo({...userInfo, gender: 'male'})}
                                >
                                    ë‚¨ì„±
                                </button>
                                <button 
                                    className={`flex-1 py-3 rounded-xl border ${userInfo.gender === 'female' ? 'bg-pink-50 border-pink-500 text-pink-700 font-bold' : 'border-gray-300 text-gray-500'}`}
                                    onClick={() => setUserInfo({...userInfo, gender: 'female'})}
                                >
                                    ì—¬ì„±
                                </button>
                            </div>
                        </div>

                        <button 
                            onClick={calculateBenefactor}
                            className="w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold py-4 rounded-xl shadow-lg hover:shadow-xl transform transition hover:-translate-y-1 mt-4 flex items-center justify-center gap-2"
                        >
                            <Sparkles className="w-5 h-5" />
                            ì´ ì£¼ì˜ ê·€ì¸ ë¬´ë£Œ í™•ì¸í•˜ê¸°
                        </button>
                    </div>
                </div>
            );
        };

        // --- ë©”ì¸ App ì»´í¬ë„ŒíŠ¸ ---
        const App = () => {
            const [activeTab, setActiveTab] = useState('lotto'); // 'lotto' or 'benefactor'
            const [step, setStep] = useState('input'); // input -> loading -> ad_gate -> result
            const [userInfo, setUserInfo] = useState({
                year: '',
                month: '',
                day: '',
                time: '',
                gender: 'male'
            });
            const [result, setResult] = useState(null);
            const [adTimer, setAdTimer] = useState(5);

            // ì˜¤í–‰ ë°ì´í„°
            const elementNumbers = {
                wood: [3, 8, 13, 18, 23, 28, 33, 38, 43], 
                fire: [2, 7, 12, 17, 22, 27, 32, 37, 42], 
                earth: [5, 10, 15, 20, 25, 30, 35, 40, 45], 
                metal: [4, 9, 14, 19, 24, 29, 34, 39, 44], 
                water: [1, 6, 11, 16, 21, 26, 31, 36, 41]  
            };

            const elementInfo = {
                wood: { name: 'ëª©(æœ¨)', color: 'bg-green-500', text: 'ì„±ì¥ê³¼ ì‹œì‘ì˜ ê¸°ìš´', item: 'ë‚˜ë¬´ ì¬ì§ˆì˜ ì•¡ì„¸ì„œë¦¬', benefactorFeature: 'ì„±ì¥ ì§€í–¥ì , ì¶”ì§„ë ¥ ìˆëŠ” ì‚¬ëŒ' },
                fire: { name: 'í™”(ç«)', color: 'bg-red-500', text: 'ì—´ì •ê³¼ í™•ì‚°ì˜ ê¸°ìš´', item: 'ë¶‰ì€ìƒ‰ ì§€ê°‘', benefactorFeature: 'ì™¸í–¥ì , í™œë°œí•œ ì—ë„ˆì§€ë¥¼ ê°€ì§„ ì‚¬ëŒ' },
                earth: { name: 'í† (åœŸ)', color: 'bg-yellow-500', text: 'í¬ìš©ê³¼ ì¤‘ì¬ì˜ ê¸°ìš´', item: 'í™©ê¸ˆìƒ‰ ë‘êº¼ë¹„', benefactorFeature: 'ì•ˆì •ì , ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ì‚¬ëŒ' },
                metal: { name: 'ê¸ˆ(é‡‘)', color: 'bg-gray-400', text: 'ê²°ì‹¤ê³¼ ì›ì¹™ì˜ ê¸°ìš´', item: 'ë©”íƒˆ ì‹œê³„ë‚˜ ë°˜ì§€', benefactorFeature: 'ì›ì¹™ì£¼ì˜ì , ëª…í™•í•œ íŒë‹¨ë ¥ì„ ê°€ì§„ ì‚¬ëŒ' },
                water: { name: 'ìˆ˜(æ°´)', color: 'bg-blue-500', text: 'ì§€í˜œì™€ ìœ ì—°í•¨ì˜ ê¸°ìš´', item: 'ê²€ì€ìƒ‰ ê°€ë°©', benefactorFeature: 'ìœ ì—°í•œ ì‚¬ê³ , ì§€í˜œë¡œìš´ ì‚¬ëŒ' }
            };

            const handleInputChange = (e) => {
                const { name, value } = e.target;
                setUserInfo({ ...userInfo, [name]: value });
            };

            useEffect(() => {
                let interval;
                if (step === 'ad_gate' && adTimer > 0) {
                    interval = setInterval(() => {
                        setAdTimer((prev) => prev - 1);
                    }, 1000);
                }
                return () => clearInterval(interval);
            }, [step, adTimer]);



            // --- ë Œë”ë§ (JSX) ---
            return (
                <div className="min-h-screen bg-gray-50 flex flex-col items-center font-sans text-gray-800">
                    <header className="w-full bg-indigo-600 text-white p-4 shadow-lg sticky top-0 z-10">
                        <div className="max-w-md mx-auto flex justify-between items-center">
                            <div className="flex items-center gap-2">
                                <Sparkles className="w-6 h-6 text-yellow-300" />
                                <h1 className="text-xl font-bold tracking-tighter">ìš´ì„¸ë„ìš°ë¯¸</h1>
                            </div>
                            <span className="text-xs bg-indigo-800 px-2 py-1 rounded text-indigo-200">Beta</span>
                        </div>
                    </header>

                    {/* íƒ­ ë„¤ë¹„ê²Œì´ì…˜ */}
                    <nav className="w-full bg-white shadow-md sticky top-16 z-10">
                        <div className="max-w-md mx-auto flex">
                            <button 
                                className={`flex-1 py-3 text-center font-bold ${activeTab === 'lotto' ? 'text-indigo-600 border-b-2 border-indigo-600' : 'text-gray-500 hover:text-gray-700'}`}
                                onClick={() => { setActiveTab('lotto'); setStep('input'); setResult(null); }}
                            >
                                ìš´ì„¸ë¡œë˜
                            </button>
                            <button 
                                className={`flex-1 py-3 text-center font-bold ${activeTab === 'benefactor' ? 'text-indigo-600 border-b-2 border-indigo-600' : 'text-gray-500 hover:text-gray-700'}`}
                                onClick={() => { setActiveTab('benefactor'); setStep('input'); setResult(null); }}
                            >
                                ì´ ì£¼ì˜ ê·€ì¸
                            </button>
                        </div>
                    </nav>

                    <main className="w-full max-w-md p-4 pb-20 flex-1 flex flex-col gap-6">
                        {/* ìƒë‹¨ ì• ë“œì„¼ìŠ¤ (í”Œë ˆì´ìŠ¤í™€ë”) */}
                        {step === 'input' && (
                            <div className="w-full h-24 bg-gray-200 rounded-lg flex items-center justify-center text-gray-400 text-sm border-2 border-dashed border-gray-300">
                                êµ¬ê¸€ ì• ë“œì„¼ìŠ¤ (ìƒë‹¨ ë°°ë„ˆ)
                            </div>
                        )}

                        {activeTab === 'lotto' && step === 'input' && (
                            <LottoFortune 
                                userInfo={userInfo}
                                setUserInfo={setUserInfo}
                                setStep={setStep}
                                setResult={setResult}
                                elementNumbers={elementNumbers}
                                elementInfo={elementInfo}
                                Sparkles={Sparkles}
                                RefreshCw={RefreshCw}
                                ShoppingBag={ShoppingBag}
                                Calendar={Calendar}
                                Clock={Clock}
                                ArrowRight={ArrowRight}
                            />
                        )}

                        {activeTab === 'benefactor' && step === 'input' && (
                            <BenefactorFortune
                                userInfo={userInfo}
                                setUserInfo={setUserInfo}
                                setStep={setStep}
                                setResult={setResult}
                                elementInfo={elementInfo}
                                Sparkles={Sparkles}
                                Calendar={Calendar}
                                Clock={Clock}
                            />
                        )}

                        {step === 'loading' && (
                            <div className="bg-white p-10 rounded-2xl shadow-xl flex flex-col items-center justify-center min-h-[400px]">
                                <div className="relative w-20 h-20 mb-6">
                                    <div className="absolute w-full h-full border-4 border-gray-200 rounded-full"></div>
                                    <div className="absolute w-full h-full border-4 border-indigo-600 rounded-full border-t-transparent animate-spin"></div>
                                    <div className="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-2xl">ğŸ”®</div>
                                </div>
                                <h3 className="text-xl font-bold text-gray-800 mb-2">ë§Œì„¸ë ¥ ë¶„ì„ ì¤‘...</h3>
                                <p className="text-gray-500 text-sm animate-pulse">ìƒë…„ì›”ì¼ì˜ ì˜¤í–‰ ê¸°ìš´ì„ ê³„ì‚°í•˜ê³  ìˆìŠµë‹ˆë‹¤.</p>
                            </div>
                        )}

                        {step === 'ad_gate' && (
                            <div className="bg-white p-6 rounded-2xl shadow-xl animate-fade-in flex flex-col items-center text-center min-h-[500px]">
                                <div className="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center text-green-600 mb-4 animate-bounce">
                                    <Sparkles className="w-8 h-8" />
                                </div>
                                <h2 className="text-2xl font-bold text-gray-900 mb-2">ë¶„ì„ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!</h2>
                                <p className="text-gray-500 text-sm mb-6">ì ì‹œ í›„ {activeTab === 'lotto' ? 'ëŒ€ë°• ê¸°ìš´ì´ ë‹´ê¸´ ë²ˆí˜¸ê°€' : 'ë‹¹ì‹ ì—ê²Œ ë„ì›€ì„ ì¤„ ê·€ì¸ì´'} ê³µê°œë©ë‹ˆë‹¤.</p>
                                
                                <div className="w-full flex-1 bg-gray-100 rounded-xl border border-gray-200 flex flex-col items-center justify-center mb-6 relative overflow-hidden min-h-[250px]">
                                    <div className="absolute top-2 right-2 bg-white/80 px-2 py-1 rounded text-[10px] text-gray-400">Sponsored</div>
                                    <DollarSign className="w-12 h-12 text-gray-300 mb-2" />
                                    <p className="text-gray-400 font-medium">êµ¬ê¸€ ì• ë“œì„¼ìŠ¤ (ì „ë©´/ì‚¬ê°í˜• ê´‘ê³ )</p>
                                    <p className="text-xs text-gray-400 mt-1">ì´ê³³ì— ì‹¤ì œ ê´‘ê³ ê°€ í‘œì‹œë©ë‹ˆë‹¤</p>
                                </div>

                                <button 
                                    onClick={() => setStep('result')}
                                    disabled={adTimer > 0}
                                    className={`w-full py-4 rounded-xl font-bold flex items-center justify-center gap-2 transition-all duration-300 ${
                                        adTimer > 0 
                                            ? 'bg-gray-200 text-gray-400 cursor-not-allowed'
                                            : 'bg-indigo-600 text-white hover:bg-indigo-700 shadow-lg hover:scale-105'
                                    }`}
                                >
                                    {adTimer > 0 ? (
                                        <div className="flex items-center gap-2">
                                            <Timer className="w-5 h-5 animate-pulse" />
                                            {adTimer}ì´ˆ ë’¤ ê²°ê³¼ ê³µê°œ
                                        </div>
                                    ) : (
                                        <div className="flex items-center gap-2">
                                            <Sparkles className="w-5 h-5" />
                                            {activeTab === 'lotto' ? 'ë‚˜ì˜ í–‰ìš´ ë²ˆí˜¸ í™•ì¸í•˜ê¸°' : 'ë‚˜ì˜ ê·€ì¸ í™•ì¸í•˜ê¸°'}
                                        </div>
                                    )}
                                </button>
                                
                                <p className="text-[10px] text-gray-400 mt-4">
                                    ê´‘ê³  ìˆ˜ìµì€ ë¬´ë£Œ ìš´ì„¸ ì„œë²„ ìš´ì˜ë¹„ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤.<br/>
                                    ê°ì‚¬í•©ë‹ˆë‹¤.
                                </p>
                            </div>
                        )}

                        {step === 'result' && result && activeTab === 'lotto' && (
                            <div className="animate-fade-in space-y-6">
                                <div className="bg-white p-6 rounded-2xl shadow-xl border-t-4 border-indigo-500">
                                    <div className="text-center mb-6">
                                        <h2 className="text-2xl font-bold text-gray-800">ğŸ‰ ì¶”ì²œ ë¡œë˜ ë²ˆí˜¸</h2>
                                        <p className="text-sm text-gray-500 mt-1">{userInfo.year}ë…„ìƒì„ ìœ„í•œ ë§ì¶¤ 5ê²Œì„</p>
                                    </div>

                                    <div className="space-y-3 mb-8">
                                        {result.sets.map((set, setIndex) => (
                                            <div key={setIndex} className="flex items-center justify-between bg-gray-50 p-3 rounded-lg border border-gray-100">
                                                <span className="font-bold text-indigo-600 text-lg w-6">{String.fromCharCode(65 + setIndex)}</span>
                                                <div className="flex gap-2">
                                                    {set.map((num, idx) => (
                                                        <div key={idx} className={`${getBallColor(num)} w-8 h-8 rounded-full flex items-center justify-center text-white font-bold text-sm shadow-sm border-b-2`}>
                                                            {num}
                                                        </div>
                                                    ))}
                                                </div>
                                            </div>
                                        ))}
                                    </div>

                                    <div className="bg-indigo-50 p-4 rounded-xl border border-indigo-100">
                                        <div className="flex items-start gap-3">
                                            <div className={`mt-1 min-w-[40px] h-10 ${elementInfo[result.element].color} rounded-full flex items-center justify-center text-white font-bold shadow-sm`}>
                                                {elementInfo[result.element].name[0]}
                                            </div>
                                            <div>
                                                <h4 className="font-bold text-indigo-900 mb-1">ëª…ë¦¬í•™ ë¶„ì„ ê·¼ê±°</h4>
                                                <p className="text-sm text-gray-700 leading-relaxed">
                                                    {result.reason}
                                                </p>
                                            </div>
                                        </div>
                                    </div>

                                    <button 
                                        onClick={() => setStep('input')}
                                        className="w-full mt-6 bg-white border border-gray-300 text-gray-700 font-bold py-3 rounded-xl hover:bg-gray-50 flex items-center justify-center gap-2"
                                    >
                                        <RefreshCw className="w-4 h-4" />
                                        ë‹¤ì‹œí•˜ê¸°
                                    </button>
                                </div>

                                <div className="bg-gradient-to-r from-yellow-50 to-orange-50 p-5 rounded-2xl shadow-md border border-yellow-200">
                                    <div className="flex justify-between items-center mb-3">
                                        <h3 className="font-bold text-yellow-800 flex items-center gap-2">
                                            <ShoppingBag className="w-5 h-5" />
                                            ë‹¹ì‹ ì˜ í–‰ìš´ ì•„ì´í…œ
                                        </h3>
                                        <span className="text-[10px] text-gray-400 border border-gray-200 px-1 rounded">ê´‘ê³ </span>
                                    </div>
                                    
                                    <a href="#" className="flex gap-4 items-center bg-white p-3 rounded-xl shadow-sm cursor-pointer hover:shadow-md transition block">
                                        <div className="w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center text-2xl">
                                            ğŸ
                                        </div>
                                        <div className="flex-1">
                                            <p className="text-xs text-gray-500 mb-1">ì¬ë¬¼ìš´ì„ ë†’ì—¬ì£¼ëŠ”</p>
                                            <p className="font-bold text-gray-800 line-clamp-1">{elementInfo[result.element].item} ë³´ëŸ¬ê°€ê¸°</p>
                                            <p className="text-xs text-blue-500 mt-1 flex items-center gap-1">
                                                ì¿ íŒ¡ì—ì„œ í™•ì¸í•˜ê¸° <ArrowRight className="w-3 h-3" />
                                            </p>
                                        </div>
                                    </a>
                                    <p className="text-[10px] text-gray-400 mt-3 text-center leading-tight">
                                        ì´ í¬ìŠ¤íŒ…ì€ ì¿ íŒ¡ íŒŒíŠ¸ë„ˆìŠ¤ í™œë™ì˜ ì¼í™˜ìœ¼ë¡œ,<br/>ì´ì— ë”°ë¥¸ ì¼ì •ì•¡ì˜ ìˆ˜ìˆ˜ë£Œë¥¼ ì œê³µë°›ìŠµë‹ˆë‹¤.
                                    </p>
                                </div>
                                
                                <div className="w-full h-24 bg-gray-100 rounded-lg flex items-center justify-center text-gray-400 text-sm border-2 border-dashed border-gray-300">
                                    êµ¬ê¸€ ì• ë“œì„¼ìŠ¤ (í•˜ë‹¨ ë°°ë„ˆ)
                                </div>
                            </div>
                        )}

                        {step === 'result' && result && activeTab === 'benefactor' && (
                            <div className="animate-fade-in space-y-6">
                                <div className="bg-white p-6 rounded-2xl shadow-xl border-t-4 border-indigo-500">
                                    <div className="text-center mb-6">
                                        <h2 className="text-2xl font-bold text-gray-800">âœ¨ ì´ë²ˆ ì£¼ ë‚˜ì˜ ê·€ì¸ì€?</h2>
                                        <p className="text-sm text-gray-500 mt-1">{userInfo.year}ë…„ìƒì„ ìœ„í•œ ë§ì¶¤ ë¶„ì„</p>
                                    </div>

                                    <div className="bg-indigo-50 p-4 rounded-xl border border-indigo-100 mb-6">
                                        <div className="flex items-start gap-3">
                                            <div className={`mt-1 min-w-[40px] h-10 ${elementInfo[result.benefactor].color} rounded-full flex items-center justify-center text-white font-bold shadow-sm`}>
                                                {elementInfo[result.benefactor].name[0]}
                                            </div>
                                            <div>
                                                <h4 className="font-bold text-indigo-900 mb-1">ê·€ì¸ ë¶„ì„ ê·¼ê±°</h4>
                                                <p className="text-sm text-gray-700 leading-relaxed">
                                                    {result.benefactorDescription}
                                                </p>
                                            </div>
                                        </div>
                                    </div>

                                    <button 
                                        onClick={() => setStep('input')}
                                        className="w-full mt-6 bg-white border border-gray-300 text-gray-700 font-bold py-3 rounded-xl hover:bg-gray-50 flex items-center justify-center gap-2"
                                    >
                                        <RefreshCw className="w-4 h-4" />
                                        ë‹¤ì‹œí•˜ê¸°
                                    </button>
                                </div>

                                {/* í–‰ìš´ ì•„ì´í…œ ì„¹ì…˜ (ê·€ì¸ íƒ­ì—ì„œë„ ì¬í™œìš©) */}
                                <div className="bg-gradient-to-r from-yellow-50 to-orange-50 p-5 rounded-2xl shadow-md border border-yellow-200">
                                    <div className="flex justify-between items-center mb-3">
                                        <h3 className="font-bold text-yellow-800 flex items-center gap-2">
                                            <ShoppingBag className="w-5 h-5" />
                                            ë‹¹ì‹ ì˜ í–‰ìš´ ì•„ì´í…œ
                                        </h3>
                                        <span className="text-[10px] text-gray-400 border border-gray-200 px-1 rounded">ê´‘ê³ </span>
                                    </div>
                                    
                                    <a href="#" className="flex gap-4 items-center bg-white p-3 rounded-xl shadow-sm cursor-pointer hover:shadow-md transition block">
                                        <div className="w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center text-2xl">
                                            ğŸ
                                        </div>
                                        <div className="flex-1">
                                            <p className="text-xs text-gray-500 mb-1">ìš´ì„ ë†’ì—¬ì£¼ëŠ”</p>
                                            <p className="font-bold text-gray-800 line-clamp-1">{elementInfo[result.benefactor].item} ë³´ëŸ¬ê°€ê¸°</p>
                                            <p className="text-xs text-blue-500 mt-1 flex items-center gap-1">
                                                ì¿ íŒ¡ì—ì„œ í™•ì¸í•˜ê¸° <ArrowRight className="w-3 h-3" />
                                            </p>
                                        </div>
                                    </a>
                                    <p className="text-[10px] text-gray-400 mt-3 text-center leading-tight">
                                        ì´ í¬ìŠ¤íŒ…ì€ ì¿ íŒ¡ íŒŒíŠ¸ë„ˆìŠ¤ í™œë™ì˜ ì¼í™˜ìœ¼ë¡œ,<br/>ì´ì— ë”°ë¥¸ ì¼ì •ì•¡ì˜ ìˆ˜ìˆ˜ë£Œë¥¼ ì œê³µë°›ìŠµë‹ˆë‹¤.
                                    </p>
                                </div>
                                
                                <div className="w-full h-24 bg-gray-100 rounded-lg flex items-center justify-center text-gray-400 text-sm border-2 border-dashed border-gray-300">
                                    êµ¬ê¸€ ì• ë“œì„¼ìŠ¤ (í•˜ë‹¨ ë°°ë„ˆ)
                                </div>
                            </div>
                        )}
                    </main>

                    <footer className="w-full bg-white border-t border-gray-200 py-6 text-center text-gray-400 text-xs">
                        <p className="mb-2">Â© 2026 ìš´ì„¸ë„ìš°ë¯¸</p>
                        <p>ë³¸ ì‚¬ì´íŠ¸ì—ì„œ ì œê³µí•˜ëŠ” ì •ë³´ëŠ” ëª…ë¦¬í•™ì  ì¬ë¯¸ ìš”ì†Œì´ë©°,<br/>ê²°ê³¼ë¥¼ ë³´ì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ê³¼ëª°ì…ì€ ì£¼ì˜í•´ì£¼ì„¸ìš”.</p>
                    </footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>